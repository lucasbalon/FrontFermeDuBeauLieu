<mat-toolbar class="center" color="primary">
  <span>Ajout d'une vente</span>
</mat-toolbar>

<form (ngSubmit)="onSubmit()" [formGroup]="saleForm" class="parent">

  <mat-form-field class="full-width-input">
    <input [matAutocomplete]="auto" aria-label="Number" formControlName="bovinLoopNumber" matInput placeholder="Numéro de boucle"
           type="text">
  </mat-form-field>

  <mat-autocomplete #auto="matAutocomplete" autoActiveFirstOption>
    <mat-option *ngFor="let loopNumber of filteredLoopNumbers | async" [value]="loopNumber">
      {{ loopNumber }}
    </mat-option>
  </mat-autocomplete>

  <mat-form-field class="full-width-input">
    <input [matDatepicker]="picker" formControlName="saleDate" matInput placeholder="Birth Date">
    <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input formControlName="amount" matInput placeholder="Prix de vente" type="number">
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input formControlName="carrierNumber" matInput placeholder="Numéro de transporteur" type="number">
  </mat-form-field>

  <mat-form-field class="full-width-input">
    <input formControlName="customerNumber" matInput placeholder="Numéro de client" type="number">
  </mat-form-field>


  <button [disabled]="isSubmitting || !saleForm.valid" color="primary" mat-raised-button type="submit">
    <span *ngIf="!isSubmitting">Envoyer</span>
    <span *ngIf="isSubmitting">Envoi en cours...</span>
  </button>
</form>
